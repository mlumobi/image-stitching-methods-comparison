<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Image Stitching Tools</title>

  <!-- Load CSS from Flask static folder -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
  <div class="container">
    <header>
      <h1>Comparative Study of Traditional and Deep Learning Image Stitching Methods</h1>
      <p class="subtitle">SIFT • ORB • LoFTR</p>
    </header>

    <div class="main-layout">
      
      <!-- Input Panel -->
      <aside class="input-panel">
        <h3>Input</h3>

        <div class="form-group">
          <label>Image 1:</label>
          <input type="file" id="img1" accept="*">
          <span class="file-name" id="name1">No file</span>
        </div>

        <div class="form-group">
          <label>Image 2:</label>
          <input type="file" id="img2" accept="*">
          <span class="file-name" id="name2">No file</span>
        </div>

        <div class="form-group">
          <label>Method:</label>
          <select id="method">
            <option value="SIFT">SIFT</option>
            <option value="ORB">ORB</option>
            <option value="LoFTR">LoFTR</option>
          </select>
        </div>

        <button id="runBtn" class="btn-primary" onclick="run(event)">Run Stitching</button>

        <!-- Command window output -->
        <textarea id="status" class="status" readonly spellcheck="false" rows="8">Ready.</textarea>

        <div id="timing" class="timing" style="display:none;">
          Time: <span id="elapsed">0</span> sec
        </div>
      </aside>

      <!-- Results Panel -->
      <main class="results-panel">
        <div class="viewer">

          <!-- Feature Images -->
          <section class="pane features-section">
            <h3>Features</h3>
            <div class="features-grid">
              <div class="feature-item">
                <h4>Image 1 Features</h4>
                <div class="pane-content">
                  <img id="output_feat1" class="result-image" draggable="false">
                </div>
              </div>
              <div class="feature-item">
                <h4>Image 2 Features</h4>
                <div class="pane-content">
                  <img id="output_feat2" class="result-image" draggable="false">
                </div>
              </div>
            </div>
          </section>

          <!-- Matches -->
          <section class="pane matches-section">
            <h3>Matches</h3>
            <div class="pane-content">
              <img id="output_matches" class="result-image" draggable="false">
            </div>
          </section>

          <!-- Stitched -->
          <section class="pane stitched-section">
            <h3>Stitched</h3>
            <div class="pane-content">
              <img id="output_stitched" class="result-image" draggable="false">
            </div>
          </section>

        </div>
      </main>
    </div>
  </div>

  <!-- Load JS from Flask static folder -->
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>